# This Python file uses the following encoding: utf-8# !/usr/bin/env pythonimport osimport djangoimport geocoderos.environ.setdefault("DJANGO_SETTINGS_MODULE", "proj_hkcm.settings")django.setup()from hkcm.models import DistrictsForAllLocationsinLocaList as Disif __name__ == "__main__":    """this file is for processing the data in database:    aim: get rid of the hong kong in the front of location names if exists.    Author  : Pharrell.zx    Date    : 2017 Feb 6 """    counter = 0    all_loca = Dis.objects.all()    for x in all_loca:        location = x.location        new_loc = location.replace(u'(', '')        new_location = new_loc.replace(u')', '')        # if u"香港" in new_location and u"香港仔" not in new_location:        #     new_location_ = new_location.replace(u'香港', '')        #     x.location = new_location_        #     try:        #         x.save()        #     except:        #         x.delete()        if u"香港香港仔" in new_location:            new_location_ = new_location.replace(u'香港香港仔', u'香港仔')            x.location = new_location_            try:                x.save()            except:                x.delete()        elif u"香港香港仔" not in new_location and u"香港仔" in new_location:            new_location_ = new_location.replace(u'香港', '', 1)            x.location = new_location_            try:                x.save()            except:                x.delete()            # print(location)            # print(new_location_)            # counter += 1    print counter